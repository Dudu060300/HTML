<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Profilo</title>
  <link rel="stylesheet" href="assets/styleProfilo.css" />
</head>
<body class="dark"> <!-- o class="light" se vuoi -->


<nav>
      <h1>MDweb</h1>
      <div class="user-menu" id="userMenu" tabindex="0" aria-haspopup="true" aria-expanded="false" aria-label="Menu utente">
        <div class="user-icon" id="userIcon" aria-hidden="true">U</div>
        <span class="arrow" aria-hidden="true">&#9662;</span>
        <div class="dropdown" id="dropdownMenu" role="menu" aria-label="Menu opzioni utente">
            <span class="dropdown-item username-display" id="userName">Utente</span>
          <a href="#" id="editProfile" role="menuitem" tabindex="-1">Modifica profilo</a>
          <a href="#" id="openSettings" role="menuitem" tabindex="-1">Impostazioni</a>
          <a href="" id="logout" role="menuitem" tabindex="-1">Logout</a>
        </div>
      </div>
    </nav>



  <div id="profilePopup" class="show" style="display: block;">
    <div id="barra">
      <h3>Profilo</h3>
      <button id="closePopupBtn" onclick="window.location.href='home.html'">Ã—</button>
    </div>

    <form id="profileForm">
      <div class="username-group">
        <label for="username">Username</label>
        <input type="text" id="username" placeholder="Nuovo username">
        <button type="button" id="changeUsernameBtn">Modifica</button>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" readonly>
      </div>

      <div class="old-password-group">
        <label for="oldPassword">Vecchia Password</label>
        <input type="password" id="oldPassword" placeholder="Vecchia password">
        <button type="button" id="verifyPasswordBtn">Verifica</button>
      </div>

      <div class="form-group hidden" id="newPasswordGroup">
        <label for="newPassword">Nuova Password</label>
        <input type="password" id="newPassword" placeholder="Nuova password">
      </div>

      <div id="errorMsg"></div>
      <div id="successMsg"></div>

      <button type="submit">Salva modifiche</button>
    </form>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

 </body>
</html>